<?php

/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */

// @codingStandardsIgnoreFile

/** @var \Magento\Customer\Block\Form\Register $block */
?>
<?= $block->getChildHtml('form_fields_before') ?>
<?php /* Extensions placeholder */ ?>
<?= $block->getChildHtml('customer.form.register.extra') ?>
<form class="form create account form-create-account" action="<?= $block->escapeUrl($block->getPostActionUrl()) ?>" method="post" id="form-validate" enctype="multipart/form-data" autocomplete="off">
     <div class="register_extra_div">
    <?= /* @noEscape */ $block->getBlockHtml('formkey'); ?>
    <fieldset class="fieldset create info">
        <div class="custom_register_left">
        <p class="heading">You can also create account via</p>
        <!--<button class="Phone"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M18.3312 14.1V16.6C18.3322 16.8321 18.2846 17.0618 18.1917 17.2745C18.0987 17.4871 17.9623 17.678 17.7913 17.8349C17.6203 17.9918 17.4184 18.1113 17.1985 18.1856C16.9787 18.26 16.7457 18.2876 16.5146 18.2667C13.9503 17.9881 11.4871 17.1118 9.32291 15.7084C7.30943 14.4289 5.60236 12.7218 4.32291 10.7084C2.91456 8.53437 2.03811 6.05919 1.76458 3.48337C1.74375 3.25292 1.77114 3.02067 1.84499 2.80139C1.91885 2.58211 2.03755 2.38061 2.19355 2.20972C2.34954 2.03883 2.53941 1.90229 2.75107 1.8088C2.96272 1.71531 3.19153 1.66692 3.42291 1.6667H5.92291C6.32733 1.66272 6.7194 1.80593 7.02604 2.06964C7.33269 2.33335 7.53297 2.69957 7.58958 3.10003C7.6951 3.90009 7.89078 4.68564 8.17291 5.4417C8.28503 5.73997 8.30929 6.06413 8.24283 6.37577C8.17637 6.6874 8.02196 6.97346 7.79791 7.20003L6.73958 8.25837C7.92587 10.3447 9.65329 12.0721 11.7396 13.2584L12.7979 12.2C13.0245 11.976 13.3105 11.8216 13.6222 11.7551C13.9338 11.6886 14.258 11.7129 14.5562 11.825C15.3123 12.1072 16.0979 12.3028 16.8979 12.4084C17.3027 12.4655 17.6724 12.6694 17.9367 12.9813C18.201 13.2932 18.3414 13.6913 18.3312 14.1Z" stroke="#9D782F" stroke-linecap="round" stroke-linejoin="round"/>
</svg><span>Phone</span></button>
        <button class="Email"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M3.33073 3.33336H16.6641C17.5807 3.33336 18.3307 4.08336 18.3307 5.00003V15C18.3307 15.9167 17.5807 16.6667 16.6641 16.6667H3.33073C2.41406 16.6667 1.66406 15.9167 1.66406 15V5.00003C1.66406 4.08336 2.41406 3.33336 3.33073 3.33336Z" stroke="#9D782F" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M18.3307 5.00003L9.9974 10.8334L1.66406 5.00003" stroke="#9D782F" stroke-linecap="round" stroke-linejoin="round"/>
</svg><span>Email</span></button> -->
       <!--  <button class="Facebook"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M15.0026 1.66702H12.5026C11.3975 1.66702 10.3377 2.10601 9.55633 2.88741C8.77492 3.66881 8.33594 4.72862 8.33594 5.83369V8.33369H5.83594V11.667H8.33594V18.3337H11.6693V11.667H14.1693L15.0026 8.33369H11.6693V5.83369C11.6693 5.61268 11.7571 5.40071 11.9133 5.24443C12.0696 5.08815 12.2816 5.00036 12.5026 5.00036H15.0026V1.66702Z" stroke="#9D782F" stroke-linecap="round" stroke-linejoin="round"/>
</svg><span>Facebook</span></button> -->
        <button class="Apple"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.8302 1.66702C12.9969 2.58369 12.5802 3.50036 12.0802 4.16702C11.5802 4.83369 10.6635 5.41702 9.74686 5.33369C9.5802 4.41702 9.99686 3.58369 10.4969 2.91702C11.0802 2.25036 11.9969 1.75036 12.8302 1.66702ZM15.4969 16.167C15.9135 15.5004 16.1635 15.0837 16.4969 14.3337C13.9135 13.3337 13.4969 9.66702 16.0802 8.33369C15.3302 7.33369 14.2469 6.83369 13.1635 6.83369C12.4135 6.83369 11.9135 7.00036 11.4135 7.16702C10.9969 7.33369 10.6635 7.41702 10.2469 7.41702C9.74686 7.41702 9.41353 7.25036 8.91353 7.08369C8.41353 6.91702 7.91353 6.75036 7.3302 6.75036C6.16353 6.75036 4.91353 7.41702 4.16353 8.66702C3.0802 10.3337 3.24686 13.5837 4.99686 16.2504C5.74686 17.2504 6.5802 18.3337 7.66353 18.3337C8.16353 18.3337 8.41353 18.167 8.74686 18.0837C9.16353 17.917 9.5802 17.7504 10.2469 17.7504C10.9969 17.7504 11.3302 17.917 11.7469 18.0837C12.0802 18.2504 12.3302 18.3337 12.8302 18.3337C13.9969 18.3337 14.8302 17.0837 15.4969 16.167Z" stroke="#9D782F" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
</svg><span>Apple</span></button>
        <!-- <button class="Google"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M18.0026 8.50036H10.1693V11.5837H14.7526C14.6693 12.3337 14.1693 13.5004 13.0859 14.2504C12.4193 14.7504 11.4193 15.0837 10.1693 15.0837C8.0026 15.0837 6.08594 13.667 5.41927 11.5837C5.2526 11.0837 5.16927 10.5004 5.16927 9.91702C5.16927 9.33369 5.2526 8.75036 5.41927 8.25036C5.5026 8.08369 5.5026 7.91702 5.58594 7.83369C6.33594 6.08369 8.08594 4.83369 10.1693 4.83369C11.7526 4.83369 12.7526 5.50036 13.4193 6.08369L15.7526 3.75036C14.3359 2.50036 12.4193 1.66702 10.1693 1.66702C6.91927 1.66702 4.08594 3.50036 2.7526 6.25036C2.16927 7.41702 1.83594 8.66702 1.83594 10.0004C1.83594 11.3337 2.16927 12.5837 2.7526 13.7504C4.08594 16.5004 6.91927 18.3337 10.1693 18.3337C12.4193 18.3337 14.3359 17.5837 15.6693 16.3337C17.2526 14.917 18.1693 12.7504 18.1693 10.167C18.1693 9.50036 18.0859 9.00036 18.0026 8.50036Z" stroke="#9D782F" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
</svg><span>Google</span></button> -->
<?php

$objectManager = \Magento\Framework\App\ObjectManager::getInstance();

$yourBlock = $objectManager->get('Mageplaza\SocialLogin\Block\Popup\Social');

$availableSocials = $yourBlock->getAvailableSocials();
$childBlock = $yourBlock->getChildBlock('request.info');

if ($yourBlock->canShow() && sizeof($availableSocials)):
    ?>
            <?php foreach ($availableSocials as $key => $social): ?>
                <?php if($key=='google'): ?>
                    <div  class="social_login_btn_div Google"><a class="Google"
                       data-mage-init='{"socialProvider": {"url": "<?= $social['login_url'] ?>"}}'><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M18.0026 8.50036H10.1693V11.5837H14.7526C14.6693 12.3337 14.1693 13.5004 13.0859 14.2504C12.4193 14.7504 11.4193 15.0837 10.1693 15.0837C8.0026 15.0837 6.08594 13.667 5.41927 11.5837C5.2526 11.0837 5.16927 10.5004 5.16927 9.91702C5.16927 9.33369 5.2526 8.75036 5.41927 8.25036C5.5026 8.08369 5.5026 7.91702 5.58594 7.83369C6.33594 6.08369 8.08594 4.83369 10.1693 4.83369C11.7526 4.83369 12.7526 5.50036 13.4193 6.08369L15.7526 3.75036C14.3359 2.50036 12.4193 1.66702 10.1693 1.66702C6.91927 1.66702 4.08594 3.50036 2.7526 6.25036C2.16927 7.41702 1.83594 8.66702 1.83594 10.0004C1.83594 11.3337 2.16927 12.5837 2.7526 13.7504C4.08594 16.5004 6.91927 18.3337 10.1693 18.3337C12.4193 18.3337 14.3359 17.5837 15.6693 16.3337C17.2526 14.917 18.1693 12.7504 18.1693 10.167C18.1693 9.50036 18.0859 9.00036 18.0026 8.50036Z" stroke="#9D782F" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
</svg><span><?= __('Google') ?></span></a></div>
                 <?php endif; ?>
                 <?php if($key=='facebook'): ?>
                    <div  class="social_login_btn_div Facebook"><a class="Facebook"
                       data-mage-init='{"socialProvider": {"url": "<?= $social['login_url'] ?>"}}'><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M15.0026 1.66702H12.5026C11.3975 1.66702 10.3377 2.10601 9.55633 2.88741C8.77492 3.66881 8.33594 4.72862 8.33594 5.83369V8.33369H5.83594V11.667H8.33594V18.3337H11.6693V11.667H14.1693L15.0026 8.33369H11.6693V5.83369C11.6693 5.61268 11.7571 5.40071 11.9133 5.24443C12.0696 5.08815 12.2816 5.00036 12.5026 5.00036H15.0026V1.66702Z" stroke="#9D782F" stroke-linecap="round" stroke-linejoin="round"/>
</svg><span><?= __('Facebook') ?></span></a></div>
                 <?php endif; ?>   
            <?php endforeach; ?>
<?php endif; ?>



        <p class="heading-second" >Already have an account?</p>
        <button>
            <a class="action back" href="<?php echo $block->getUrl('customer/account/login'); ?>"><span><?= $block->escapeHtml(__('Login')) ?></span></a></button>
        </div>
        <div class="legend"><span><?= $block->escapeHtml(__('Personal Information')) ?></span></div>
        <input type="hidden" name="success_url" value="<?= $block->escapeUrl($block->getSuccessUrl()) ?>">
        <input type="hidden" name="error_url" value="<?= $block->escapeUrl($block->getErrorUrl()) ?>">
        <?php $_dob = $block->getLayout()->createBlock('Magento\Customer\Block\Widget\Dob') ?>
        <?php if ($_dob->isEnabled()) : ?>
            <?= $_dob->setDate($block->getFormData()->getDob())->toHtml() ?>
        <?php endif ?>

        <?php $_taxvat = $block->getLayout()->createBlock('Magento\Customer\Block\Widget\Taxvat') ?>
        <?php if ($_taxvat->isEnabled()) : ?>
            <?= $_taxvat->setTaxvat($block->getFormData()->getTaxvat())->toHtml() ?>
        <?php endif ?>

        <?php $_gender = $block->getLayout()->createBlock('Magento\Customer\Block\Widget\Gender') ?>
        <?php if ($_gender->isEnabled()) : ?>
            <?= $_gender->setGender($block->getFormData()->getGender())->toHtml() ?>
        <?php endif ?>
    </fieldset>
    <?php if ($block->getShowAddressFields()) : ?>
        <fieldset class="fieldset address">
            <div class="legend"><span><?= $block->escapeHtml(__('Address Information')) ?></span></div>
            <input type="hidden" name="create_address" value="1" />

            <?php $_company = $block->getLayout()->createBlock('Magento\Customer\Block\Widget\Company') ?>
            <?php if ($_company->isEnabled()) : ?>
                <?= $_company->setCompany($block->getFormData()->getCompany())->toHtml() ?>
            <?php endif ?>

            <?php $_telephone = $block->getLayout()->createBlock('Magento\Customer\Block\Widget\Telephone') ?>
            <?php if ($_telephone->isEnabled()) : ?>
                <?= $_telephone->setTelephone($block->getFormData()->getTelephone())->toHtml() ?>
            <?php endif ?>

            <?php $_fax = $block->getLayout()->createBlock('Magento\Customer\Block\Widget\Fax') ?>
            <?php if ($_fax->isEnabled()) : ?>
                <?= $_fax->setFax($block->getFormData()->getFax())->toHtml() ?>
            <?php endif ?>

            <?php $_streetValidationClass = $this->helper('Magento\Customer\Helper\Address')->getAttributeValidationClass('street'); ?>

            <div class="field street required">
                <div class="control">
                    <input placeholder="<?= /* @noEscape */ $block->getAttributeData()->getFrontendLabel('street') ?>" type="text" name="street[]" value="<?= $block->escapeHtmlAttr($block->getFormData()->getStreet(0)) ?>" title="<?= /* @noEscape */ $block->getAttributeData()->getFrontendLabel('street') ?>" id="street_1" class="input-text <?= $block->escapeHtmlAttr($_streetValidationClass) ?>">
                    <div class="nested">
                        <?php $_streetValidationClass = trim(str_replace('required-entry', '', $_streetValidationClass)); ?>
                        <?php for ($_i = 2, $_n = $this->helper('Magento\Customer\Helper\Address')->getStreetLines(); $_i <= $_n; $_i++) : ?>
                            <div class="field additional">
                                <label class="label" for="street_<?= /* @noEscape */ $_i ?>">
                                    <span><?= $block->escapeHtml(__('Address')) ?></span>
                                </label>
                                <div class="control">
                                    <input type="text" name="street[]" value="<?= $block->escapeHtml($block->getFormData()->getStreetLine($_i - 1)) ?>" title="<?= $block->escapeHtmlAttr(__('Street Address %1', $_i)) ?>" id="street_<?= /* @noEscape */ $_i ?>" class="input-text <?= $block->escapeHtmlAttr($_streetValidationClass) ?>">
                                </div>
                            </div>
                        <?php endfor; ?>
                    </div>
                </div>
            </div>

            <div class="field city required">
                <div class="control">
                    <input placeholder="<?= /* @noEscape */ $block->getAttributeData()->getFrontendLabel('city') ?>" type="text" name="city" value="<?= $block->escapeHtmlAttr($block->getFormData()->getCity()) ?>" title="<?= /* @noEscape */ $block->getAttributeData()->getFrontendLabel('city') ?>" class="input-text <?= $block->escapeHtmlAttr($this->helper('Magento\Customer\Helper\Address')->getAttributeValidationClass('city')) ?>" id="city">
                </div>
            </div>

            <div class="field region required">
                <div class="control">
                    <select id="region_id" name="region_id" title="<?= /* @noEscape */ $block->getAttributeData()->getFrontendLabel('region') ?>" class="validate-select region_id" style="display:none;">
                        <option value=""><?= $block->escapeHtml(__('Please select a region, state or province.')) ?></option>
                    </select>
                    <input placeholder="<?= /* @noEscape */ $block->getAttributeData()->getFrontendLabel('region') ?>" type="text" id="region" name="region" value="<?= $block->escapeHtml($block->getRegion()) ?>" title="<?= /* @noEscape */ $block->getAttributeData()->getFrontendLabel('region') ?>" class="input-text <?= $block->escapeHtmlAttr($this->helper('Magento\Customer\Helper\Address')->getAttributeValidationClass('region')) ?>">
                </div>
            </div>

            <div class="field zip required">
                <div class="control">
                    <input placeholder="<?= /* @noEscape */ $block->getAttributeData()->getFrontendLabel('postcode') ?>" type="text" name="postcode" value="<?= $block->escapeHtmlAttr($block->getFormData()->getPostcode()) ?>" title="<?= /* @noEscape */ $block->getAttributeData()->getFrontendLabel('postcode') ?>" id="zip" class="input-text validate-zip-international <?= $block->escapeHtmlAttr($this->helper('Magento\Customer\Helper\Address')->getAttributeValidationClass('postcode')) ?>">
                </div>
            </div>

            <div class="field country required">
                <div class="control">
                    <?= $block->getCountryHtmlSelect() ?>
                </div>
            </div>
            <?php $addressAttributes = $block->getChildBlock('customer_form_address_user_attributes'); ?>
            <?php if ($addressAttributes) : ?>
                <?php $addressAttributes->setEntityType('customer_address'); ?>
                <?php $addressAttributes->setFieldIdFormat('address:%1$s')->setFieldNameFormat('address[%1$s]'); ?>
                <?php $block->restoreSessionData($addressAttributes->getMetadataForm(), 'address'); ?>
                <?= $addressAttributes->setShowContainer(false)->toHtml() ?>
            <?php endif; ?>
            <input type="hidden" name="default_billing" value="1">
            <input type="hidden" name="default_shipping" value="1">
        </fieldset>
    <?php endif; ?>
    <fieldset class="fieldset create account" data-hasrequired="<?= $block->escapeHtmlAttr(__('* Required Fields')) ?>">
        <div class="legend"><span><?= $block->escapeHtml(__('Create Your Account')) ?></span></div>
        <?= $block->getLayout()->createBlock('Magento\Customer\Block\Widget\Name')->setObject($block->getFormData())->setForceUseCustomerAttributes(true)->toHtml() ?>
        
        <div class="field email required">
            <div class="control">
                <input placeholder="<?= $block->escapeHtml(__('Email')) ?>" type="email" name="email" autocomplete="email" id="email_address" value="<?= $block->escapeHtmlAttr($block->getFormData()->getEmail()) ?>" title="<?= $block->escapeHtmlAttr(__('Email')) ?>" class="input-text" data-mage-init='{"mage/trim-input":{}}' data-validate="{required:true, 'validate-email':true}">
            </div>
        </div>
        <?php $_telephone = $block->getLayout()->createBlock('Magento\Customer\Block\Widget\Telephone') ?>
            <?php if ($_telephone->isEnabled()) : ?>
                <?= $_telephone->setTelephone($block->getFormData()->getTelephone())->toHtml() ?>
        <?php endif ?>
        <div class="field password required">
            <div class="control">
                <input placeholder="<?= $block->escapeHtml(__('Password')) ?>" type="password" name="password" id="password" title="<?= $block->escapeHtmlAttr(__('Password')) ?>" class="input-text" data-password-min-length="<?= $block->escapeHtmlAttr($block->getMinimumPasswordLength()) ?>" data-password-min-character-sets="<?= $block->escapeHtmlAttr($block->getRequiredCharacterClassesNumber()) ?>" data-validate="{required:true, 'validate-customer-password':true}" autocomplete="off">
                <div id="password-strength-meter-container" data-role="password-strength-meter" aria-live="polite">
                    <div id="password-strength-meter" class="password-strength-meter">
                        <?= $block->escapeHtml(__('Password Strength')) ?>:
                        <span id="password-strength-meter-label" data-role="password-strength-meter-label">
                            <?= $block->escapeHtml(__('No Password')) ?>
                        </span>
                    </div>
                </div>
            </div>

        </div>
        <div class="field confirmation required">
            <div class="control">
                <input placeholder="<?= $block->escapeHtml(__('Confirm password')) ?>" type="password" name="password_confirmation" title="<?= $block->escapeHtmlAttr(__('Confirm Password')) ?>" id="password-confirmation" class="input-text" data-validate="{required:true, equalTo:'#password'}" autocomplete="off">
            </div>
        </div>
        <?php if ($block->isNewsletterEnabled()) : ?>
            <div class="field choice newsletter">
                <input type="checkbox" name="is_subscribed" title="<?= $block->escapeHtmlAttr(__('Sign Up for Newsletter')) ?>" value="1" id="is_subscribed" <?php if ($block->getFormData()->getIsSubscribed()) : ?> checked="checked" <?php endif; ?> class="checkbox">
                <label for="is_subscribed" class="label"><span><?= $block->escapeHtml(__('Subscribe newsletter')) ?></span></label>
            </div>
            <?php /* Extensions placeholder */ ?>
            <?= $block->getChildHtml('customer.form.register.newsletter') ?>
        <?php endif ?>
        <?= $block->getChildHtml('form_additional_info') ?>
        <div class="actions-toolbar">
            <div class="primary">
                <button type="submit" class="action submit primary" title="<?= $block->escapeHtmlAttr(__('Create an Account')) ?>"><span><?= $block->escapeHtml(__('Create an Account')) ?></span></button>
            </div>
            <div class="secondary">
                <a class="action back" href="<?= $block->escapeUrl($block->getBackUrl()) ?>"><span><?= $block->escapeHtml(__('Back')) ?></span></a>
            </div>
        </div>
    </fieldset>
   </div>
</form>
<script>
    require([
        'jquery',
        'mage/mage'
    ], function($) {

        var dataForm = $('#form-validate');
        var ignore = <?= /* @noEscape */ $_dob->isEnabled() ? '\'input[id$="full"]\'' : 'null' ?>;

        dataForm.mage('validation', {
            <?php if ($_dob->isEnabled()) : ?>
                errorPlacement: function(error, element) {
                    if (element.prop('id').search('full') !== -1) {
                        var dobElement = $(element).parents('.customer-dob'),
                            errorClass = error.prop('class');
                        error.insertAfter(element.parent());
                        dobElement.find('.validate-custom').addClass(errorClass)
                            .after('<div class="' + errorClass + '"></div>');
                    } else {
                        error.insertAfter(element);
                    }
                },
                ignore: ':hidden:not(' + ignore + ')'
            <?php else : ?>
                ignore: ignore ? ':hidden:not(' + ignore + ')' : ':hidden'
            <?php endif ?>
        }).find('input:text').attr('autocomplete', 'off');

    });
</script>
<?php if ($block->getShowAddressFields()) : ?>
    <script type="text/x-magento-init">
        {
        "#country": {
            "regionUpdater": {
                "optionalRegionAllowed": <?= /* @noEscape */ $block->getConfig('general/region/display_all') ? 'true' : 'false' ?>,
                "regionListId": "#region_id",
                "regionInputId": "#region",
                "postcodeId": "#zip",
                "form": "#form-validate",
                "regionJson": <?= /* @noEscape */ $this->helper(\Magento\Directory\Helper\Data::class)->getRegionJson() ?>,
                "defaultRegion": "<?= (int) $block->getFormData()->getRegionId() ?>",
                "countriesWithOptionalZip": <?= /* @noEscape */ $this->helper(\Magento\Directory\Helper\Data::class)->getCountriesWithOptionalZip(true) ?>
            }
        }
    }
</script>
<?php endif; ?>

<script type="text/x-magento-init">
    {
        ".field.password": {
            "passwordStrengthIndicator": {
                "formSelector": "form.form-create-account"
            }
        }
    }
</script>
