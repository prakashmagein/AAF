<?php
/**
 * Magedelight
 * Copyright (C) 2023 Magedelight <info@magedelight.com>
 *
 * @category  Magedelight
 * @package   Magedelight_SMSProfile
 * @copyright Copyright (c) 2023 Mage Delight (http://www.magedelight.com/)
 * @license   http://opensource.org/licenses/gpl-3.0.html GNU General Public License,version 3 (GPL-3.0)
 * @author    Magedelight <info@magedelight.com>
 */
?>
<?php /** @var \Magedelight\SocialLogin\Block\MdPopup $block */
$currentUrl = $block->getUrl('*/*/*', ['_current' => true, '_use_rewrite' => true]);
$myLastElement='';
$getIdentifier=explode('/', $currentUrl);
if (str_contains($currentUrl, 'checkout')) {
    $cnt=count($getIdentifier);
    $myLastElement = $getIdentifier[$cnt-2];
}
if ($block->isPopupEnabled() && $block->isModuleEnabled() && !str_contains($currentUrl, 'customer/account/create/') && !str_contains($currentUrl, 'customer/account/login/') && !str_contains($currentUrl, 'customer/account/forgotpassword/') && $myLastElement!='checkout') : ?>
    <div class="md-login-container" data-md-js="md-login-container" style="display: none">
        <div id="md-login-popup" class="md-login-popup" data-mage-init='{"tabs":{"openedState":"active"}}' data-md-js="md-tab-container">
            <div class="md-tabs-wrapper" data-md-js="md-tabs-wrapper">
                <ul class="md-tablist">
                    <li data-role="collapsible" class="md-title" data-md-js="md-popup-original">
                        <a href="#md-login-content"
                           class="md-link"
                           data-toggle="switch"
                           tabindex="-1"><?= $block->escapeHtml(__('Login')) ?></a>
                    </li>
                    <li data-role="collapsible" class="md-title" data-md-js="md-popup-original">
                        <a href="#md-register-content"
                           class="md-link"
                           data-toggle="switch"
                           tabindex="-1"><?= $block->escapeHtml(__('Register')) ?></a>
                    </li>
                </ul>
                <div class="md-error" style="color: red;"><span></span></div>
                <div class="md-success" style="color: green;"><span></span></div>
                <div id="md-login-content" class="md-content md-login-content" data-role="content">
                    <?= $block->getChildHtml('md_customer_login_popup'); ?>
                    <div class="custom-customer-create-link hide-customer-account-link customer-create-account-section">
                    <a class="custom-create-account-link" href="javascript:void(0)"><?php echo __('Create an Account'); ?></a>
                    </div>
                </div>
                <div id="md-register-content" class="md-content md-register-content" data-role="content">

                    <div class="create-account-via-option-btn-sct">
                        <div class="login_page">
                         <div class="custom_register_left">   
                        <button class="Phone custom-tab-button-active" id="make_phone_require_btn" style="display: none;"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M18.3312 14.1V16.6C18.3322 16.8321 18.2846 17.0618 18.1917 17.2745C18.0987 17.4871 17.9623 17.678 17.7913 17.8349C17.6203 17.9918 17.4184 18.1113 17.1985 18.1856C16.9787 18.26 16.7457 18.2876 16.5146 18.2667C13.9503 17.9881 11.4871 17.1118 9.32291 15.7084C7.30943 14.4289 5.60236 12.7218 4.32291 10.7084C2.91456 8.53437 2.03811 6.05919 1.76458 3.48337C1.74375 3.25292 1.77114 3.02067 1.84499 2.80139C1.91885 2.58211 2.03755 2.38061 2.19355 2.20972C2.34954 2.03883 2.53941 1.90229 2.75107 1.8088C2.96272 1.71531 3.19153 1.66692 3.42291 1.6667H5.92291C6.32733 1.66272 6.7194 1.80593 7.02604 2.06964C7.33269 2.33335 7.53297 2.69957 7.58958 3.10003C7.6951 3.90009 7.89078 4.68564 8.17291 5.4417C8.28503 5.73997 8.30929 6.06413 8.24283 6.37577C8.17637 6.6874 8.02196 6.97346 7.79791 7.20003L6.73958 8.25837C7.92587 10.3447 9.65329 12.0721 11.7396 13.2584L12.7979 12.2C13.0245 11.976 13.3105 11.8216 13.6222 11.7551C13.9338 11.6886 14.258 11.7129 14.5562 11.825C15.3123 12.1072 16.0979 12.3028 16.8979 12.4084C17.3027 12.4655 17.6724 12.6694 17.9367 12.9813C18.201 13.2932 18.3414 13.6913 18.3312 14.1Z" stroke="#9D782F" stroke-linecap="round" stroke-linejoin="round"/>
</svg><span><?php echo __("Phone"); ?></span></button>
        <button class="Email" id="make_email_require_btn"  ><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M3.33073 3.33336H16.6641C17.5807 3.33336 18.3307 4.08336 18.3307 5.00003V15C18.3307 15.9167 17.5807 16.6667 16.6641 16.6667H3.33073C2.41406 16.6667 1.66406 15.9167 1.66406 15V5.00003C1.66406 4.08336 2.41406 3.33336 3.33073 3.33336Z" stroke="#9D782F" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M18.3307 5.00003L9.9974 10.8334L1.66406 5.00003" stroke="#9D782F" stroke-linecap="round" stroke-linejoin="round"/>
</svg><span><?php echo __("Email"); ?></span></button>
</div>
</div>

                    </div>

                    <?= $block->getChildHtml('md_customer_register_popup'); ?>
                </div>
            </div>
            <div class="md-tabs-wrapper -forgot" data-md-js="md-tabs-wrapper-forgot">
                <ul class="md-tablist">
                    <li class="md-title active">
                        <a href="#md-forgot-content" class="md-link">
                            <?= $block->escapeHtml(__('Forgot Your Password?')) ?>
                        </a>
                    </li>
                </ul>
                <div class="md-error" style="color: red;"><span></span></div>
                <div class="md-success" style="color: green;"><span></span></div>
                <div id="md-forgot-content" class="md-content md-forgot-content">
                    <?= $block->getChildHtml('md_customer_forgot_password'); ?>
                </div>
            </div>
        </div>
        <script class="md-login-container-js-loaded" type="text/x-magento-init">
        {
            "[data-md-js='md-login-container']" : {
                "Magedelight_SMSProfile/js/md-popup":{}
            }
        }

        </script>
    </div>
<?php endif; ?>
